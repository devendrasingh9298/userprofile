<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=100%, initial-scale=1.0">
    <title>Login Form</title>
    <link rel="stylesheet" type="" href="./style.css">
</head>
<body>
    <ul>
      <li><a href="./index.html">Home</a></li>
      <li><a class="active" href="./login.html">Login</a></li>
      <li><a href="./registration.html">SignUp</a></li>
    </ul>
    <div class="main">
    <form action="#">
        <input type="email" id="email" placeholder="Enter your email.."><br><br>
        <input type="password" id="password" placeholder="Enter your password.."><br><br>
        <button type="button" onclick="validate()">validate</button>
        <button type="reset">Reset</button>
        <br>
        <p>if not registered. <a href="./registration.html">click here</a> </p>
    </form>
    </div>
</body>
<script>
    function validate(){
        let email,password;
        email=document.getElementById("email").value;
        password=document.getElementById("password").value;

        let user_records = new Array();
        user_records = JSON.parse(localStorage.getItem("users"))?JSON.parse(localStorage.getItem("users")):[]

        if(user_records.some((v)=>{
            return v.email==email && v.password==password;
        })){
            alert("Login Successful....")
            let current_user = user_records.filter((v)=>{
            return v.email==email && v.password==password;
            })[0]
            localStorage.setItem("name",current_user.name)
            localStorage.setItem("email",current_user.email)
            window.location.href="./profile.html"
        }else{
            alert("Login failed...")
        }
        }
</script>
</html>